
<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>banner</title>
<style>
*{ margin:0; padding:0;}
ul { list-style:none;}
/*dabai.chen 2010-12-02 banner */
#bannerBox { height:295px; width:415px; overflow:hidden;  position:relative; border:#E7E7E7 solid 1px; background:#FFF; font-size:12px;}
#bannerImgesBox { position:relative; height:270px;}
#bannerImgesBox a { position:absolute; left:0; top:0; text-decoration: none; display:none;}
#bannerImgesBox a img { border:0;}
#bannerTextBox { height:14px; background:url(/images/bannerListBg.jpg) -2px 0; position:absolute; z-index:100; bottom:4px; right:4px; width:536px;}
#bannerTextBox ul { list-style:none;height:16px; float:right;}
#bannerTextBox ul li { float:left; display:inline; height:16px;  text-align:center; width:16px; overflow:hidden; margin-right:1px;}
#bannerTextBox ul li  a {  border:#313131 solid 1px; display:block; color:#FFF;text-decoration:none; background:#666666; width:14px; height:14px; line-height:14px; margin:0 auto;}
#bannerTextBox ul li  a:hover { background: #CA0068;}
 
/*选中*/
#bannerTextBox ul li.thisHover  a{background: #CA0068; }
/**/
</style>
<script type="text/javascript" src="http://www.dabaii.com/demo/20100907/js/jquery.js"></script>
<script type="text/javascript"> 
//dabai.chen 2010-12.02 for zhenai.com index
 
//无插件 banner切换效果
$(function(){
	//获取可点触发编号
	$('#bannerTextBox').find('li').mouseover(function(){
						//停止自动切换
						clearInterval(t1);
						//获取编号自定义值 以获取对应图片
						var i = $(this).attr('set');
						//调用切换效果，切换到当前鼠标焦点编号的banner
						changeBanner('x',i);
						//设置当前编号的颜色 
						setListNo.apply(this,['x']);
				 }).mouseout(function(){
						//鼠标离开编号 自动开始继续切换
						t1 = setInterval(changeBanner,'3000');
	})
//定义可触发编号 该变量用来自动切换过程中累加计算 用于判断是否到达最好一个banner位置
var bannerListIndex = 1;
 
//设置编号 参数setNo 用来判断方法是setInterval自动触发的还是 mouseover手动触发
function setListNo(setNo){
	//清空历史的选中位置
	$('#bannerTextBox').find(".thisHover").removeClass('thisHover');
	//如果是setInterval自动触发
	if(setNo!="x"){
			//通过 定义可触发编号bannerListIndex 累加参数判断选中位置
			$('#bannerTextBox').find("li").eq(setNo).addClass("thisHover");
		}
	//如果是手动触发
	else{
			//通过设置当前鼠标点击对象设置 选中位置
			$(this).addClass("thisHover");	
		}
	}
 
//切换方法 参数o 用来判断是否是手动出发  i 用来记录手动出发位置，以便真确定义显示图片
function changeBanner(o,i){
		$("#bannerImgesBox").find('a').hide();
		if(o != 'x'){
			setListNo(bannerListIndex);
			$("#bannerImgesBox").find('a').eq(bannerListIndex).fadeIn("slow");
		}else{
			
			$("#bannerImgesBox").find('a').eq(i).fadeIn("slow");
			bannerListIndex = i;
			}
		// 累加bannerListIndex 于判断是否到达最后一个banner位置 
		bannerListIndex++;
		if(bannerListIndex > 2 ){
			bannerListIndex = 0
		}
	}
//changeBanner();
var t1 = setInterval(changeBanner,'3000');
})
</script>
</head>

<body>
<div id="bannerBox">
	<div id="bannerImgesBox"> 
		<a href="http://www.baidu.com" target="_blank"  style="display:block;" >
			<img  src="http://www.ziyangsoft.com/image/1.jpg"></a> 
		<a href="http://www.google.com" target="_blank" >
			<img  src="http://www.ziyangsoft.com/image/2.jpg"></a> 
		<a href="http://www.ziyangsoft.com" target="_blank" >
			<img  src="http://www.ziyangsoft.com/image/3.jpg"></a> </div>
	<div id="bannerTextBox">
    <ul>
		<li class="thisHover" set="0"><a href="###">1</a></li>
		<li set="1"><a href="###">2</a></li>
		<li set="2"><a href="###">3</a></li>
    </ul>
  </div>
</div>
</body>
</html>